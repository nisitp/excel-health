!function(t,e){e.acf_quickedit=qe={form:{},field:{_types:{},add_type:function(t){return qe.field._types[t.type]=qe.field.View.extend(t),qe.field._types[t.type]},factory:function(e,i){var a=t(e).attr("data-field-type"),n=qe.field._types;return field_class=a in n?n[a]:qe.field.View,new field_class({el:e,controller:i})}}},qe.form.View=Backbone.View.extend({initialize:function(){var t=this;this.options=arguments[0],Backbone.View.prototype.initialize.apply(this,arguments),this.fields={},this.$(".inline-edit-col-qed [data-key]").each(function(e,i){var a=qe.field.factory(i,this);t.fields[a.key]=a}),this.loadValues()},getFieldsToLoad:function(){var t=[];return _.each(this.fields,function(e,i){e.parent_key?t.push(e.parent_key):t.push(e.key)}),t},loadedValues:function(t){this._setValues(t),this.initValidation()},_setValues:function(t){var e=this;_.each(t,function(t,i){i in e.fields?e.fields[i].setValue(t):_.isObject(t)&&e._setValues(t)})},unload:function(t){this.deinitValidation(),_.each(this.fields,function(t){t.unload()}),acf.unload.reset()},validationComplete:function(t,e){var i=this;return t.valid?acf.unload.off():_.each(t.errors,function(t){var e=t.input.match(/\[([0-9a-z_]+)\]$/g),a=!!e&&e[0].substring(1,e[0].length-1);a in i.fields&&i.fields[a].setError(t.message)}),t},deinitValidation:function(){this.getSaveButton().off("click",this._saveBtnClickHandler)},initValidation:function(){var e=this.$el.closest("form"),i=this.getSaveButton();acf.update("post_id",this.options.object_id),acf.addFilter("validation_complete",this.validationComplete,10,this),i.on("click",this._saveBtnClickHandler),e.data("acf",null),t._data(i[0],"events").click.reverse()},_saveBtnClickHandler:function(e){var i=t(this),a=t(this).closest("form");return!!acf.validateForm({form:a,event:!1,reset:!1,success:function(t){i.trigger("click")}})||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1)}}),qe.form.QuickEdit=qe.form.View.extend({loadValues:function(){var e=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:this.options.object_id,acf_field_keys:this.getFieldsToLoad()},success:function(t){e.loadedValues(t)}}),this},getSaveButton:function(){return this.$el.closest("form").find("button.save")}}),qe.form.BulkEdit=qe.form.View.extend({initialize:function(){qe.form.View.prototype.initialize.apply(this,arguments),acf.add_filter("prepare_for_ajax",this.prepareForAjax,null,this)},prepareForAjax:function(e){return e.acf&&t.each(e.acf,function(t,i){"___do_not_change"==i&&delete e.acf[t]}),e},loadValues:function(){var e=[];t('[type="checkbox"][name="post[]"]:checked').each(function(){e.push(t(this).val())});var i=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:e,acf_field_keys:this.getFieldsToLoad()},success:function(t){i.loadedValues(t)}}),this},getSaveButton:function(){return this.$('[type="submit"]#bulk_edit')}}),qe.field.View=wp.media.View.extend({events:{'change [type="checkbox"][data-is-do-not-change="true"]':"dntChanged"},initialize:function(){var t=this;Backbone.View.prototype.initialize.apply(this,arguments),this.key=this.$el.attr("data-key"),this.parent_key=this.$el.attr("data-parent-key"),"false"===this.parent_key&&(this.parent_key=!1),this.$input||(this.$input=this.$('input:not([data-is-do-not-change="true"])')),this.setEditable(!1),this.$("*").on("change",function(){t.resetError()})},setValue:function(t){return this.dntChanged(),this.$input.val(t),this},dntChanged:function(){this.setEditable(!this.$('[type="checkbox"][data-is-do-not-change="true"]').is(":checked"))},setEditable:function(t){this.$input.prop("readonly",!t).prop("disabled",!t)},setError:function(t){return this.$el.attr("data-error-message",t),this},resetError:function(){return this.$el.removeAttr("data-error-message"),this},unload:function(){}})}(jQuery,window);
!function(t,e){var i={type:"file",mediaFrameType:"",events:{"click .select-media":"selectFile","click .remove-media":"removeFile",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$("button"),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments);var t=this,i=acf.get("post_id");this.mediaFrameOpts={field:this.key,multiple:!1,post_id:i,library:this.$hidden.attr("data-library"),mode:"select",type:this.mediaFrameType,select:function(e,i){e&&t.setValue(e.get("id"))}},this.$hidden.data("mime_types")&&(this.mediaFrameOpts.mime_types=this.$hidden.data("mime_types"))},selectFile:function(e){e.preventDefault();var i=acf.media.popup(this.mediaFrameOpts),a=this.$hidden.val();a&&i.on("open",function(){var t,e;t=i.state().get("selection"),e=wp.media.attachment(a),e.fetch(),t.add(e?[e]:[])}),acf.isset(window,"wp","media","view","settings","post")&&t.isNumeric(this.mediaFrameOpts.post_id)&&(wp.media.view.settings.post.id=this.mediaFrameOpts.post_id)},removeFile:function(t){t.preventDefault(),this.setValue("")},setValue:function(t){return this.dntChanged(),this.$hidden.val(t),this}};e.field.add_type(i),e.field.add_type(_.extend(i,{type:"image",mediaFrameType:"image"})),e.field.add_type(i),e.field.add_type({type:"range",events:{'change [type="range"]':"adaptNumber",'mousemove [type="range"]':"adaptNumber",'change [type="number"]':"adaptRange",'mousemove [type="number"]':"adaptRange",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},adaptNumber:function(){this.$('[type="number"]').val(this.$('[type="range"]').val())},adaptRange:function(){this.$('[type="range"]').val(this.$('[type="number"]').val())}}),e.field.add_type({type:"date_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yymmdd",altField:this.$hidden,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day")},this.$input.datepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDate(this.datePickerArgs.altFormat,e)}catch(t){return this}return this.$input.datepicker("setDate",i),this}}),e.field.add_type({type:"date_time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={altField:this.$hidden,dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yy-mm-dd",timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altFieldTimeOnly:!1,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day"),controlType:"select",oneLine:!0},this.$input.datetimepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i,a,d;this.dntChanged();try{i=t.datepicker.parseDateTime(this.datePickerArgs.altFormat,this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return d={hour:i.getHours(),minute:i.getMinutes(),second:i.getSeconds(),millisec:i.getMilliseconds(),microsec:0,timezone:i.getTimezoneOffset()},a=t.datepicker.formatDate(this.datePickerArgs.dateFormat,i)+" "+t.datepicker.formatTime(this.datePickerArgs.timeFormat,d),this.$hidden.val(a),this.$input.val(a),this}}),e.field.add_type({type:"time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altField:this.$hidden,altFieldTimeOnly:!1,showButtonPanel:!0,controlType:"select",oneLine:!0},this.$input.timepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseTime(this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(e),this.$input.val(t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"color_picker",initialize:function(){var t=acf.apply_filters("color_picker_args",{defaultColor:!1,palettes:!0,hide:!0},this.$el);this.$input=this.$('[type="text"]').first().wpColorPicker(t),e.field.View.prototype.initialize.apply(this,arguments)},setValue:function(t){this.dntChanged(),this.$input.wpColorPicker("color",t)},unload:function(){t("body").off("click.wpcolorpicker")}}),e.field.add_type({type:"textarea",initialize:function(){this.$input=this.$("textarea").prop("readonly",!0),e.field.View.prototype.initialize.apply(this,arguments),this.$input.on("keydown keyup",function(t){13!=t.which&&27!=t.which||t.stopPropagation()})}}),e.field.add_type({type:"checkbox",events:{"click .add-choice":"addChoice",'change [type="checkbox"].custom':"removeChoice",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$('[type="checkbox"]:not([value="___do_not_change"])'),this.$button=this.$("button.add-choice").prop("disabled",!0),e.field.View.prototype.initialize.apply(this,arguments)},setEditable:function(t){this.$input.prop("disabled",!t),this.$button.prop("disabled",!t)},setValue:function(e){var i=this;this.dntChanged(),t.isArray(e)?t.each(e,function(t,e){i.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)}):this.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)},addChoice:function(t){t.preventDefault();var e=wp.template("acf-qef-custom-choice-"+this.$el.attr("data-key"));this.$("ul").append(e())},removeChoice:function(e){t(e.target).closest("li").remove()}}),e.field.add_type({type:"radio",initialize:function(){var i,a;this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$("ul.acf-radio-list.other").length&&(i=this.$('[type="text"]'),this.$('[type="radio"]').on("change",function(e){a=t(this).is('[value="other"]:checked'),i.prop("disabled",!a).prop("readonly",!a)}))},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}}),e.field.add_type({type:"button_group",initialize:function(){var i=(this.$("ul"),this.$("li"));this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$el.is('[data-allow-null="1"]')&&this.$el.on("click",'[type="radio"]',function(e){var a=t(this).closest("li"),d=a.hasClass("selected");if(i.removeClass("selected"),d)return void t(this).prop("checked",!1);a.addClass("selected")})},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0).closest("li").addClass("selected")}}),e.field.add_type({type:"select",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$("select").prop("readonly",!0)}}),e.field.add_type({type:"taxonomy",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$('select,input[value!="___do_not_change"]').prop("readonly",!0)},setValue:function(e){var i=this;this.dntChanged(),"number"==typeof e&&(e=[e]),t.each(e,function(e,a){i.$('[value="'+a+'"]').each(function(e,i){t(this).is('[type="radio"],[type="checkbox"]')?t(this).prop("checked",!0):t(this).is("option")&&t(this).prop("selected",!0)})})}}),e.field.add_type({type:"true_false",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0)},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}})}(jQuery,acf_quickedit);
!function(i,t){if("undefined"!=typeof inlineEditPost){var e=inlineEditPost.edit,n=inlineEditPost.save,d=inlineEditPost.revert,a=inlineEditPost.setBulk;inlineEditPost.edit=function(n){var d,a,o;return acf.validation.active=1,o=e.apply(this,arguments),d=0,"object"==typeof n&&(d=parseInt(this.getId(n))),a=i("#edit-"+d),this.acf_qed_form=new t.form.QuickEdit({el:a.get(0),object_id:d}),o},inlineEditPost.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditPost.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)},inlineEditPost.setBulk=function(){var e=a.apply(this,arguments);return this.acf_qed_form=new t.form.BulkEdit({el:i("#bulk-edit").get(0)}),e}}if("undefined"!=typeof inlineEditTax){var o=inlineEditTax.edit,n=inlineEditTax.save,d=inlineEditTax.revert;inlineEditTax.edit=function(e){var n,d,a,r=i('input[name="taxonomy"]').val();return a=o.apply(this,arguments),n=0,"object"==typeof e&&(n=parseInt(this.getId(e))),d=i("#edit-"+n),this.acf_qed_form=new t.form.QuickEdit({el:d.get(0),object_id:r+"_"+n}),a},inlineEditTax.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditTax.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)}}}(jQuery,window.acf_quickedit);
!function(e){e(".acf-qef-gallery-col").on("mousemove",function(n){var t=(e(this),e(this).find("img"));x=n.offsetX,num=t.length,step=e(this).width()/num,t.each(function(n,t){x>=step*n?e(t).show():e(t).hide()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZi1xdWlja2VkaXQtYmFzZS5qcyIsImFjZi1xdWlja2VkaXQtZmllbGRzLmpzIiwiYWNmLXF1aWNrZWRpdC5qcyIsInRodW1ibmFpbC1jb2wuanMiXSwibmFtZXMiOlsiJCIsImV4cG9ydHMiLCJhY2ZfcXVpY2tlZGl0IiwicWUiLCJmb3JtIiwiZmllbGQiLCJfdHlwZXMiLCJhZGRfdHlwZSIsImEiLCJ0eXBlIiwiVmlldyIsImV4dGVuZCIsImZhY3RvcnkiLCJlbCIsImNvbnRyb2xsZXIiLCJhdHRyIiwidHlwZXMiLCJmaWVsZF9jbGFzcyIsIkJhY2tib25lIiwiaW5pdGlhbGl6ZSIsInNlbGYiLCJ0aGlzIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsInByb3RvdHlwZSIsImFwcGx5IiwiZmllbGRzIiwiZWFjaCIsImkiLCJrZXkiLCJsb2FkVmFsdWVzIiwiZ2V0RmllbGRzVG9Mb2FkIiwiXyIsInBhcmVudF9rZXkiLCJwdXNoIiwibG9hZGVkVmFsdWVzIiwidmFsdWVzIiwiX3NldFZhbHVlcyIsImluaXRWYWxpZGF0aW9uIiwidmFsIiwic2V0VmFsdWUiLCJpc09iamVjdCIsInVubG9hZCIsImUiLCJkZWluaXRWYWxpZGF0aW9uIiwiYWNmIiwicmVzZXQiLCJ2YWxpZGF0aW9uQ29tcGxldGUiLCJqc29uIiwiJGZvcm0iLCJ2YWxpZCIsIm9mZiIsImVycm9ycyIsImVyciIsIm1hdGNoIiwiaW5wdXQiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJzZXRFcnJvciIsIm1lc3NhZ2UiLCJnZXRTYXZlQnV0dG9uIiwiX3NhdmVCdG5DbGlja0hhbmRsZXIiLCIkZWwiLCJjbG9zZXN0IiwiJGJ1dHRvbiIsInVwZGF0ZSIsIm9iamVjdF9pZCIsImFkZEZpbHRlciIsIm9uIiwiZGF0YSIsIl9kYXRhIiwiY2xpY2siLCJyZXZlcnNlIiwidmFsaWRhdGVGb3JtIiwiZXZlbnQiLCJzdWNjZXNzIiwidHJpZ2dlciIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiUXVpY2tFZGl0IiwicG9zdCIsInVybCIsImFqYXh1cmwiLCJhY3Rpb24iLCJhY2ZfZmllbGRfa2V5cyIsInJlc3BvbnNlIiwiZmluZCIsIkJ1bGtFZGl0IiwiYWRkX2ZpbHRlciIsInByZXBhcmVGb3JBamF4IiwicG9zdF9pZHMiLCJ3cCIsIm1lZGlhIiwiZXZlbnRzIiwiY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXSIsIiRpbnB1dCIsInNldEVkaXRhYmxlIiwicmVzZXRFcnJvciIsInZhbHVlIiwiZG50Q2hhbmdlZCIsImlzIiwiZWRpdGFibGUiLCJwcm9wIiwicmVtb3ZlQXR0ciIsImpRdWVyeSIsIndpbmRvdyIsImZpbGVfdHlwZSIsIm1lZGlhRnJhbWVUeXBlIiwiY2xpY2sgLnNlbGVjdC1tZWRpYSIsImNsaWNrIC5yZW1vdmUtbWVkaWEiLCJjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0iLCIkaGlkZGVuIiwicG9zdF9pZCIsImdldCIsIm1lZGlhRnJhbWVPcHRzIiwibXVsdGlwbGUiLCJsaWJyYXJ5IiwibW9kZSIsInNlbGVjdCIsImF0dGFjaG1lbnQiLCJtaW1lX3R5cGVzIiwic2VsZWN0RmlsZSIsIm1lZGlhX2ZyYW1lIiwicG9wdXAiLCJtZWRpYV9pZCIsInNlbGVjdGlvbiIsInN0YXRlIiwiZmV0Y2giLCJhZGQiLCJpc3NldCIsImlzTnVtZXJpYyIsInZpZXciLCJzZXR0aW5ncyIsImlkIiwicmVtb3ZlRmlsZSIsImNoYW5nZSBbdHlwZT1cInJhbmdlXCJdIiwibW91c2Vtb3ZlIFt0eXBlPVwicmFuZ2VcIl0iLCJjaGFuZ2UgW3R5cGU9XCJudW1iZXJcIl0iLCJtb3VzZW1vdmUgW3R5cGU9XCJudW1iZXJcIl0iLCJhZGFwdE51bWJlciIsImFkYXB0UmFuZ2UiLCJkYXRlUGlja2VyQXJncyIsImRhdGVGb3JtYXQiLCJhbHRGb3JtYXQiLCJhbHRGaWVsZCIsImNoYW5nZVllYXIiLCJ5ZWFyUmFuZ2UiLCJjaGFuZ2VNb250aCIsInNob3dCdXR0b25QYW5lbCIsImZpcnN0RGF5IiwiZGF0ZXBpY2tlciIsIndyYXAiLCJkYXRlIiwicGFyc2VEYXRlIiwidGltZUZvcm1hdCIsImFsdFRpbWVGb3JtYXQiLCJhbHRGaWVsZFRpbWVPbmx5IiwiY29udHJvbFR5cGUiLCJvbmVMaW5lIiwiZGF0ZXRpbWVwaWNrZXIiLCJmb3JtYXR0ZWREYXRlIiwidGltZU9iamVjdCIsInBhcnNlRGF0ZVRpbWUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW51dGUiLCJnZXRNaW51dGVzIiwic2Vjb25kIiwiZ2V0U2Vjb25kcyIsIm1pbGxpc2VjIiwiZ2V0TWlsbGlzZWNvbmRzIiwibWljcm9zZWMiLCJ0aW1lem9uZSIsImdldFRpbWV6b25lT2Zmc2V0IiwiZm9ybWF0RGF0ZSIsImZvcm1hdFRpbWUiLCJ0aW1lcGlja2VyIiwidGltZSIsInBhcnNlVGltZSIsImFyZ3MiLCJhcHBseV9maWx0ZXJzIiwiZGVmYXVsdENvbG9yIiwicGFsZXR0ZXMiLCJoaWRlIiwiZmlyc3QiLCJ3cENvbG9yUGlja2VyIiwid2hpY2giLCJjbGljayAuYWRkLWNob2ljZSIsImNoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdLmN1c3RvbSIsImlzQXJyYXkiLCJpZHgiLCJhZGRDaG9pY2UiLCJ0cGwiLCJ0ZW1wbGF0ZSIsImFwcGVuZCIsInJlbW92ZUNob2ljZSIsInRhcmdldCIsInJlbW92ZSIsIiRvdGhlciIsImlzX290aGVyIiwiJGxpcyIsIiRsaSIsInNlbGVjdGVkIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiaW5saW5lRWRpdFBvc3QiLCJfd3BfaW5saW5lX2VkaXRfcG9zdCIsImVkaXQiLCJfd3BfaW5saW5lX2VkaXRfc2F2ZSIsInNhdmUiLCJfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0IiwicmV2ZXJ0IiwiX3dwX2lubGluZV9lZGl0X2J1bGsiLCJzZXRCdWxrIiwiJHRyIiwicmV0IiwidmFsaWRhdGlvbiIsImFjdGl2ZSIsInBhcnNlSW50IiwiZ2V0SWQiLCJhY2ZfcWVkX2Zvcm0iLCJpbmxpbmVFZGl0VGF4IiwiX3dwX2lubGluZV9lZGl0X3RheCIsInRheCIsIiRpbWciLCJ4Iiwib2Zmc2V0WCIsIm51bSIsInN0ZXAiLCJ3aWR0aCIsInNob3ciXSwibWFwcGluZ3MiOiJDQUFBLFNBQVdBLEVBQUdDLEdBRWJBLEVBQVFDLGNBQWdCQyxJQUN2QkMsUUFDQUMsT0FDQ0MsVUFDQUMsU0FBUyxTQUFTQyxHQUVqQixNQURBTCxJQUFHRSxNQUFNQyxPQUFPRSxFQUFFQyxNQUFRTixHQUFHRSxNQUFNSyxLQUFLQyxPQUFPSCxHQUN4Q0wsR0FBR0UsTUFBTUMsT0FBT0UsRUFBRUMsT0FFMUJHLFFBQVEsU0FBU0MsRUFBR0MsR0FDbkIsR0FBSUwsR0FBT1QsRUFBRWEsR0FBSUUsS0FBSyxtQkFDckJDLEVBQVFiLEdBQUdFLE1BQU1DLE1BR2xCLE9BREFXLGFBQWNSLElBQVFPLEdBQVFBLEVBQU1QLEdBQVFOLEdBQUdFLE1BQU1LLEtBQzlDLEdBQUlPLGNBQ1ZKLEdBQU1BLEVBQ05DLFdBQVlBLE9BT2hCWCxHQUFHQyxLQUFLTSxLQUFPUSxTQUFTUixLQUFLQyxRQUM1QlEsV0FBVyxXQUVWLEdBQUlDLEdBQU9DLElBRVhBLE1BQUtDLFFBQVVDLFVBQVUsR0FFekJMLFNBQVNSLEtBQUtjLFVBQVVMLFdBQVdNLE1BQU9KLEtBQU1FLFdBRWhERixLQUFLSyxVQUVMTCxLQUFLckIsRUFBRSxtQ0FBbUMyQixLQUFLLFNBQVNDLEVBQUVmLEdBQ3pELEdBQUlSLEdBQVFGLEdBQUdFLE1BQU1PLFFBQVNDLEVBQUlRLEtBQ2xDRCxHQUFLTSxPQUFRckIsRUFBTXdCLEtBQVF4QixJQUc1QmdCLEtBQUtTLGNBR05DLGdCQUFnQixXQUNmLEdBQUlMLEtBUUosT0FQQU0sR0FBRUwsS0FBTU4sS0FBS0ssT0FBTyxTQUFVckIsRUFBT3dCLEdBQy9CeEIsRUFBTTRCLFdBQ1ZQLEVBQU9R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Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiggJCwgZXhwb3J0cyApe1xuXG5cdGV4cG9ydHMuYWNmX3F1aWNrZWRpdCA9IHFlID0ge1xuXHRcdGZvcm06e30sXG5cdFx0ZmllbGQ6IHtcblx0XHRcdF90eXBlczoge30sLy8gZmllbGQgdHlwZXNcblx0XHRcdGFkZF90eXBlOmZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cWUuZmllbGQuX3R5cGVzW2EudHlwZV0gPSBxZS5maWVsZC5WaWV3LmV4dGVuZChhKTtcblx0XHRcdFx0cmV0dXJuIHFlLmZpZWxkLl90eXBlc1thLnR5cGVdO1xuXHRcdFx0fSxcblx0XHRcdGZhY3Rvcnk6ZnVuY3Rpb24oZWwsY29udHJvbGxlcil7XG5cdFx0XHRcdHZhciB0eXBlID0gJChlbCkuYXR0cignZGF0YS1maWVsZC10eXBlJyksXG5cdFx0XHRcdFx0dHlwZXMgPSBxZS5maWVsZC5fdHlwZXM7XG5cblx0XHRcdFx0ZmllbGRfY2xhc3MgPSB0eXBlIGluIHR5cGVzID8gdHlwZXNbdHlwZV0gOiBxZS5maWVsZC5WaWV3O1xuXHRcdFx0XHRyZXR1cm4gbmV3IGZpZWxkX2NsYXNzKHtcblx0XHRcdFx0XHRlbDpcdFx0XHRlbCxcblx0XHRcdFx0XHRjb250cm9sbGVyOlx0Y29udHJvbGxlcixcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0fTtcblxuXG5cdHFlLmZvcm0uVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCl7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0dGhpcy5vcHRpb25zID0gYXJndW1lbnRzWzBdO1xuXG5cdFx0XHRCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0dGhpcy5maWVsZHMgPSB7fTtcblxuXHRcdFx0dGhpcy4kKCcuaW5saW5lLWVkaXQtY29sLXFlZCBbZGF0YS1rZXldJykuZWFjaChmdW5jdGlvbihpLGVsKXtcblx0XHRcdFx0dmFyIGZpZWxkID0gcWUuZmllbGQuZmFjdG9yeSggZWwsIHRoaXMgKTtcblx0XHRcdFx0c2VsZi5maWVsZHNbIGZpZWxkLmtleSBdID0gZmllbGQ7XG5cdFx0XHR9KTtcblx0XHRcdC8vIGxvYWQgdmFsdWVzXG5cdFx0XHR0aGlzLmxvYWRWYWx1ZXMoKTtcblxuXHRcdH0sXG5cdFx0Z2V0RmllbGRzVG9Mb2FkOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgZmllbGRzID0gW107XG5cdFx0XHRfLmVhY2goIHRoaXMuZmllbGRzLGZ1bmN0aW9uKCBmaWVsZCwga2V5ICkge1xuXHRcdFx0XHRpZiAoIGZpZWxkLnBhcmVudF9rZXkgKSB7XG5cdFx0XHRcdFx0ZmllbGRzLnB1c2goIGZpZWxkLnBhcmVudF9rZXkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmaWVsZHMucHVzaCggZmllbGQua2V5ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGZpZWxkcztcblx0XHR9LFxuXHRcdGxvYWRlZFZhbHVlczpmdW5jdGlvbih2YWx1ZXMpIHtcblx0XHRcdHRoaXMuX3NldFZhbHVlcyggdmFsdWVzICk7XG5cdFx0XHR0aGlzLmluaXRWYWxpZGF0aW9uKCk7XG5cdFx0fSxcblx0XHRfc2V0VmFsdWVzOmZ1bmN0aW9uKHZhbHVlcykge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0Xy5lYWNoKCB2YWx1ZXMsIGZ1bmN0aW9uKCB2YWwsIGtleSApe1xuXHRcdFx0XHRpZiAoIGtleSBpbiBzZWxmLmZpZWxkcyApIHtcblx0XHRcdFx0XHRzZWxmLmZpZWxkc1trZXldLnNldFZhbHVlKCB2YWwgKTtcblx0XHRcdFx0fSBlbHNlIGlmKCBfLmlzT2JqZWN0KCB2YWwgKSApIHtcblx0XHRcdFx0XHRzZWxmLl9zZXRWYWx1ZXModmFsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHR1bmxvYWQ6ZnVuY3Rpb24oZSl7XG5cdFx0XHR0aGlzLmRlaW5pdFZhbGlkYXRpb24oKTtcblx0XHRcdF8uZWFjaCh0aGlzLmZpZWxkcyxmdW5jdGlvbihmaWVsZCl7XG5cdFx0XHRcdGZpZWxkLnVubG9hZCgpO1xuXHRcdFx0fSk7XG5cdFx0XHRhY2YudW5sb2FkLnJlc2V0KCk7XG5cdFx0fSxcblx0XHR2YWxpZGF0aW9uQ29tcGxldGU6ZnVuY3Rpb24oIGpzb24sICRmb3JtICkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRpZiAoICEganNvbi52YWxpZCApIHtcblx0XHRcdFx0Xy5lYWNoKGpzb24uZXJyb3JzLGZ1bmN0aW9uKGVycil7XG5cdFx0XHRcdFx0Ly8gZXJyLmlucHV0IGlzIGluIGZvcm1hdCBgYWNmWzxGSUVMRF9LRVk+XWBcblx0XHRcdFx0XHR2YXIgbWF0Y2ggPSBlcnIuaW5wdXQubWF0Y2goL1xcWyhbMC05YS16X10rKVxcXSQvZyksIC8vIG1hdGNoIGxhc3QgZmllbGQga2V5XG5cdFx0XHRcdFx0XHRrZXkgPSAhISBtYXRjaCA/IG1hdGNoWzBdLnN1YnN0cmluZyggMSwgbWF0Y2hbMF0ubGVuZ3RoIC0xICkgOiBmYWxzZTsgLy8gcm0gYnJhY2VzXG5cblx0XHRcdFx0XHRpZiAoIGtleSBpbiBzZWxmLmZpZWxkcyApIHtcblx0XHRcdFx0XHRcdHNlbGYuZmllbGRzW2tleV0uc2V0RXJyb3IoIGVyci5tZXNzYWdlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGFjZi51bmxvYWQub2ZmKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4ganNvbjtcblx0XHR9LFxuXHRcdGRlaW5pdFZhbGlkYXRpb246ZnVuY3Rpb24oKXtcblx0XHRcdHZhciAkYnV0dG9uID0gdGhpcy5nZXRTYXZlQnV0dG9uKCk7XG5cdFx0XHQkYnV0dG9uLm9mZiggJ2NsaWNrJywgdGhpcy5fc2F2ZUJ0bkNsaWNrSGFuZGxlciApO1xuXHRcdH0sXG5cdFx0aW5pdFZhbGlkYXRpb246ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgJGZvcm0gPSB0aGlzLiRlbC5jbG9zZXN0KCdmb3JtJyksXG5cdFx0XHRcdCRidXR0b24gPSB0aGlzLmdldFNhdmVCdXR0b24oKTtcblxuXHRcdFx0YWNmLnVwZGF0ZSgncG9zdF9pZCcsIHRoaXMub3B0aW9ucy5vYmplY3RfaWQgKTtcblxuXHRcdFx0YWNmLmFkZEZpbHRlciggJ3ZhbGlkYXRpb25fY29tcGxldGUnLCB0aGlzLnZhbGlkYXRpb25Db21wbGV0ZSwgMTAsIHRoaXMgKTtcbi8vXHRcdFx0YWNmLmFkZF9hY3Rpb24oJ3ZhbGlkYXRpb25fZmFpbHVyZScsIHRoaXMudmFsaWRhdGlvbkZhaWx1cmUgKTtcblxuXHRcdFx0JGJ1dHRvbi5vbiggJ2NsaWNrJywgdGhpcy5fc2F2ZUJ0bkNsaWNrSGFuZGxlciApO1xuXHRcdFx0JGZvcm0uZGF0YSgnYWNmJyxudWxsKVxuXHRcdFx0Ly8gbW92ZSBvdXIgZXZlbnRzIGhhbmRsZXIgdG8gZnJvbnRcblxuXHRcdFx0JC5fZGF0YSgkYnV0dG9uWzBdLCdldmVudHMnKS5jbGljay5yZXZlcnNlKCk7XG5cblx0XHR9LFxuXHRcdF9zYXZlQnRuQ2xpY2tIYW5kbGVyOmZ1bmN0aW9uKGUpIHtcblx0XHRcdC8vIHNjb3BlOiBxdWljay9idWxrIGVkaXQgc2F2ZSBidXR0b25cblx0XHRcdHZhciAkYnV0dG9uID0gJCh0aGlzKSxcblx0XHRcdFx0JGZvcm0gPSAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm0nKSxcblx0XHRcdFx0dmFsaWQ7XG5cblx0XHRcdHZhbGlkID0gYWNmLnZhbGlkYXRlRm9ybSh7XG5cdFx0XHRcdGZvcm06ICRmb3JtLFxuXHRcdFx0XHRldmVudDogZmFsc2UsXG5cdFx0XHRcdHJlc2V0OiBmYWxzZSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oICRmb3JtICkge1xuXHRcdFx0XHRcdCRidXR0b24udHJpZ2dlcignY2xpY2snKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmICggISB2YWxpZCApIHtcblx0XHRcdFx0Ly8gc3RvcCBXUCBKUyB2YWxpZGF0aW9uXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9KTtcblx0cWUuZm9ybS5RdWlja0VkaXQgPSBxZS5mb3JtLlZpZXcuZXh0ZW5kKHtcblx0XHRsb2FkVmFsdWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdCQucG9zdCh7XG5cdFx0XHRcdHVybDphamF4dXJsLFxuXHRcdFx0XHRkYXRhOntcblx0XHRcdFx0XHQnYWN0aW9uJyA6ICdnZXRfYWNmX3Bvc3RfbWV0YScsXG5cdFx0XHRcdFx0J29iamVjdF9pZCcgOiB0aGlzLm9wdGlvbnMub2JqZWN0X2lkLFxuXHRcdFx0XHRcdCdhY2ZfZmllbGRfa2V5cycgOiB0aGlzLmdldEZpZWxkc1RvTG9hZCgpLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdWNjZXNzOmZ1bmN0aW9uKHJlc3BvbnNlKXtcblx0XHRcdFx0XHRzZWxmLmxvYWRlZFZhbHVlcyggcmVzcG9uc2UgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0Z2V0U2F2ZUJ1dHRvbjpmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuIHRoaXMuJGVsLmNsb3Nlc3QoJ2Zvcm0nKS5maW5kKCdidXR0b24uc2F2ZScpXG5cdFx0fVxuXHR9KTtcblxuXHRxZS5mb3JtLkJ1bGtFZGl0ID0gcWUuZm9ybS5WaWV3LmV4dGVuZCh7XG5cdFx0Ly8gdG9kbzogZG8gbm90IGNoYW5nZVxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKXtcblxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRxZS5mb3JtLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRhY2YuYWRkX2ZpbHRlciggJ3ByZXBhcmVfZm9yX2FqYXgnLCB0aGlzLnByZXBhcmVGb3JBamF4LCBudWxsLCB0aGlzICk7XG5cblx0XHR9LFxuXHRcdHByZXBhcmVGb3JBamF4OmZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0Ly8gcmVtb3ZlIHVuY2hhbmdlZCB2YWx1ZXMgaW4gYnVsa1xuXHRcdFx0aWYgKCAhISBkYXRhLmFjZiApIHtcblx0XHRcdFx0JC5lYWNoKGRhdGEuYWNmLGZ1bmN0aW9uKGksdmFsKXtcblx0ICAgXHRcdFx0XHRpZiAoIHZhbCA9PSAnX19fZG9fbm90X2NoYW5nZScpIHtcblx0XHRcdFx0XHRcdGRlbGV0ZSggZGF0YS5hY2ZbaV0gKTtcblx0ICAgXHRcdFx0XHR9XG5cdCAgIFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fSxcblx0XHRsb2FkVmFsdWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwb3N0X2lkcyA9IFtdO1xuXHRcdFx0JCgnW3R5cGU9XCJjaGVja2JveFwiXVtuYW1lPVwicG9zdFtdXCJdOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHBvc3RfaWRzLnB1c2goJCh0aGlzKS52YWwoKSlcblx0XHRcdH0pO1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHQkLnBvc3Qoe1xuXHRcdFx0XHR1cmw6YWpheHVybCxcblx0XHRcdFx0ZGF0YTp7XG5cdFx0XHRcdFx0J2FjdGlvbicgOiAnZ2V0X2FjZl9wb3N0X21ldGEnLFxuXHRcdFx0XHRcdCdvYmplY3RfaWQnIDogcG9zdF9pZHMsXG5cdFx0XHRcdFx0J2FjZl9maWVsZF9rZXlzJyA6IHRoaXMuZ2V0RmllbGRzVG9Mb2FkKCksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2Upe1xuXHRcdFx0XHRcdHNlbGYubG9hZGVkVmFsdWVzKCByZXNwb25zZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRnZXRTYXZlQnV0dG9uOmZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gdGhpcy4kKCdbdHlwZT1cInN1Ym1pdFwiXSNidWxrX2VkaXQnKTtcblx0XHR9XG5cdH0pO1xuXG5cblxuXHRxZS5maWVsZC5WaWV3ID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdGV2ZW50czp7XG5cdFx0XHQnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXScgOiAnZG50Q2hhbmdlZCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdHRoaXMua2V5ID0gdGhpcy4kZWwuYXR0cignZGF0YS1rZXknKTtcblx0XHRcdHRoaXMucGFyZW50X2tleSA9IHRoaXMuJGVsLmF0dHIoJ2RhdGEtcGFyZW50LWtleScpO1xuXG5cdFx0XHRpZiggJ2ZhbHNlJyA9PT0gdGhpcy5wYXJlbnRfa2V5ICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudF9rZXkgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhIHRoaXMuJGlucHV0ICkge1xuXHRcdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnaW5wdXQ6bm90KFtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdKScpXG5cdFx0XHR9XG5cdFx0XHR0aGlzLnNldEVkaXRhYmxlKCBmYWxzZSApO1xuXHRcdFx0dGhpcy4kKCcqJykub24oJ2NoYW5nZScsZnVuY3Rpb24oKXtzZWxmLnJlc2V0RXJyb3IoKX0pXG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSl7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoICk7XG5cdFx0XHR0aGlzLiRpbnB1dC52YWwodmFsdWUpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRkbnRDaGFuZ2VkOmZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLnNldEVkaXRhYmxlKCAhIHRoaXMuJCgnW3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdJykuaXMoJzpjaGVja2VkJykgKTtcblx0XHR9LFxuXHRcdHNldEVkaXRhYmxlOmZ1bmN0aW9uKGVkaXRhYmxlKXtcblx0XHRcdHRoaXMuJGlucHV0LnByb3AoICdyZWFkb25seScsICEgZWRpdGFibGUgKS5wcm9wKCAnZGlzYWJsZWQnLCAhIGVkaXRhYmxlICk7XG5cdFx0fSxcblx0XHRzZXRFcnJvcjpmdW5jdGlvbihtZXNzYWdlKSB7XG5cdFx0XHR0aGlzLiRlbC5hdHRyKCdkYXRhLWVycm9yLW1lc3NhZ2UnLG1lc3NhZ2UpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRyZXNldEVycm9yOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kZWwucmVtb3ZlQXR0ciggJ2RhdGEtZXJyb3ItbWVzc2FnZScgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0dW5sb2FkOmZ1bmN0aW9uKCl7fVxuXHR9KTtcblxuXG59KSggalF1ZXJ5LCB3aW5kb3cgKTtcbiIsIihmdW5jdGlvbiggJCwgcWUgKXtcblx0dmFyIGZpbGVfdHlwZSA9IHtcblx0XHR0eXBlOidmaWxlJyxcblx0XHRtZWRpYUZyYW1lVHlwZTonJyxcblx0XHRldmVudHM6e1xuXHRcdFx0J2NsaWNrIC5zZWxlY3QtbWVkaWEnIDogJ3NlbGVjdEZpbGUnLFxuXHRcdFx0J2NsaWNrIC5yZW1vdmUtbWVkaWEnIDogJ3JlbW92ZUZpbGUnLFxuXHRcdFx0J2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXScgOiAnZG50Q2hhbmdlZCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ2J1dHRvbicpO1xuXHRcdFx0dGhpcy4kaGlkZGVuID0gdGhpcy4kKCdbdHlwZT1cImhpZGRlblwiXScpO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0cG9zdF9pZCA9IGFjZi5nZXQoJ3Bvc3RfaWQnKTtcblxuXHRcdFx0dGhpcy5tZWRpYUZyYW1lT3B0cyA9IHtcblx0XHRcdFx0ZmllbGRcdFx0OiB0aGlzLmtleSxcblx0XHRcdFx0bXVsdGlwbGVcdDogZmFsc2UsXG5cdFx0XHRcdHBvc3RfaWRcdFx0OiBwb3N0X2lkLFxuXHRcdFx0XHRsaWJyYXJ5XHRcdDogdGhpcy4kaGlkZGVuLmF0dHIoJ2RhdGEtbGlicmFyeScpLFxuXHRcdFx0XHRtb2RlXHRcdDonc2VsZWN0Jyxcblx0XHRcdFx0dHlwZVx0XHQ6IHRoaXMubWVkaWFGcmFtZVR5cGUsXG5cdFx0XHRcdHNlbGVjdFx0XHQ6IGZ1bmN0aW9uICggYXR0YWNobWVudCwgaSApIHtcblx0XHRcdFx0XHRpZiAoICEgYXR0YWNobWVudCApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2VsZi5zZXRWYWx1ZSggYXR0YWNobWVudC5nZXQoJ2lkJykgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGlmICggdGhpcy4kaGlkZGVuLmRhdGEoJ21pbWVfdHlwZXMnKSApIHtcblx0XHRcdFx0dGhpcy5tZWRpYUZyYW1lT3B0cy5taW1lX3R5cGVzID0gdGhpcy4kaGlkZGVuLmRhdGEoJ21pbWVfdHlwZXMnKTtcblx0XHRcdH1cblxuXHRcdH0sXG5cdFx0c2VsZWN0RmlsZTpmdW5jdGlvbihlKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdC8vIENyZWF0ZSBhIG5ldyBtZWRpYSBmcmFtZVxuXHRcdFx0dmFyIG1lZGlhX2ZyYW1lID0gYWNmLm1lZGlhLnBvcHVwKCB0aGlzLm1lZGlhRnJhbWVPcHRzICksXG5cdFx0XHRcdG1lZGlhX2lkID0gdGhpcy4kaGlkZGVuLnZhbCgpO1xuXG5cdFx0XHRpZiAoICEhIG1lZGlhX2lkICkge1xuXHRcdFx0XHRtZWRpYV9mcmFtZS5vbignb3BlbicsZnVuY3Rpb24oKXtcblx0XHRcdFx0XHR2YXIgc2VsZWN0aW9uLCBhdHRhY2htZW50O1xuXHRcdFx0XHRcdHNlbGVjdGlvbiA9IG1lZGlhX2ZyYW1lLnN0YXRlKCkuZ2V0KCdzZWxlY3Rpb24nKTtcblx0XHRcdFx0XHRhdHRhY2htZW50ID0gd3AubWVkaWEuYXR0YWNobWVudCggbWVkaWFfaWQgKTtcblx0XHRcdFx0XHRhdHRhY2htZW50LmZldGNoKCk7XG5cdFx0XHRcdFx0c2VsZWN0aW9uLmFkZCggYXR0YWNobWVudCA/IFsgYXR0YWNobWVudCBdIDogW10gKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHNldCBwb3N0IGlkLCBzbyBuZXcgdXBsb2FkcyBhcmUgYXR0YWNoZWQgdG8gZWRpdGVkIHBvc3Rcblx0XHRcdGlmICggYWNmLmlzc2V0KHdpbmRvdywnd3AnLCdtZWRpYScsJ3ZpZXcnLCdzZXR0aW5ncycsJ3Bvc3QnKSAmJiAkLmlzTnVtZXJpYyggdGhpcy5tZWRpYUZyYW1lT3B0cy5wb3N0X2lkICkgKSB7XG5cblx0XHRcdFx0d3AubWVkaWEudmlldy5zZXR0aW5ncy5wb3N0LmlkID0gdGhpcy5tZWRpYUZyYW1lT3B0cy5wb3N0X2lkO1xuXG5cdFx0XHR9XG5cblx0XHR9LFxuXHRcdHJlbW92ZUZpbGU6ZnVuY3Rpb24oZSl7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLnNldFZhbHVlKCcnKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJGhpZGRlbi52YWwoIHZhbHVlICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqXHRmaWVsZCB0eXBlIGZpbGVcblx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCBmaWxlX3R5cGUgKTtcblxuXHQvKipcblx0ICpcdGZpZWxkIHR5cGUgaW1hZ2Vcblx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCBfLmV4dGVuZChmaWxlX3R5cGUse3R5cGU6J2ltYWdlJyxtZWRpYUZyYW1lVHlwZTonaW1hZ2UnfSkgKTtcblxuXHRxZS5maWVsZC5hZGRfdHlwZSggZmlsZV90eXBlICk7XG5cblx0LyoqXG5cdCAqXHRmaWVsZCB0eXBlIHJhbmdlXG5cdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdCB0eXBlOidyYW5nZScsXG5cdFx0IGV2ZW50czp7XG5cdFx0XHQgJ2NoYW5nZSBbdHlwZT1cInJhbmdlXCJdJ1x0XHQ6ICdhZGFwdE51bWJlcicsXG5cdFx0XHQgJ21vdXNlbW92ZSBbdHlwZT1cInJhbmdlXCJdJ1x0XHQ6ICdhZGFwdE51bWJlcicsXG5cdFx0XHQgJ2NoYW5nZSBbdHlwZT1cIm51bWJlclwiXSdcdFx0OiAnYWRhcHRSYW5nZScsXG5cdFx0XHQgJ21vdXNlbW92ZSBbdHlwZT1cIm51bWJlclwiXSdcdDogJ2FkYXB0UmFuZ2UnLFxuXHRcdFx0ICdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0nIDogJ2RudENoYW5nZWQnLFxuXHRcdCB9LFxuXHRcdCBhZGFwdE51bWJlcjpmdW5jdGlvbigpe1xuXHRcdFx0IHRoaXMuJCgnW3R5cGU9XCJudW1iZXJcIl0nKS52YWwoIHRoaXMuJCgnW3R5cGU9XCJyYW5nZVwiXScpLnZhbCgpICk7XG5cdFx0IH0sXG5cdFx0IGFkYXB0UmFuZ2U6ZnVuY3Rpb24oKXtcblx0XHRcdCB0aGlzLiQoJ1t0eXBlPVwicmFuZ2VcIl0nKS52YWwoIHRoaXMuJCgnW3R5cGU9XCJudW1iZXJcIl0nKS52YWwoKSApO1xuXHRcdCB9XG5cdCB9ICk7XG5cblxuXHQvKipcbiAgXHQgKlx0ZmllbGQgdHlwZSBkYXRlX3BpY2tlclxuICBcdCAqL1xuICBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG4gXHRcdHR5cGU6J2RhdGVfcGlja2VyJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy4kaW5wdXRcdFx0PSB0aGlzLiQoICdbdHlwZT1cInRleHRcIl0nICk7XG5cdFx0XHR0aGlzLiRoaWRkZW5cdD0gdGhpcy4kKCAnW3R5cGU9XCJoaWRkZW5cIl0nICk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MgPSB7XG5cdFx0XHRcdFx0ZGF0ZUZvcm1hdFx0XHQ6IHRoaXMuJCgnW2RhdGEtZGF0ZV9mb3JtYXRdJykuZGF0YSgnZGF0ZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRGb3JtYXRcdFx0OiAneXltbWRkJyxcblx0XHRcdFx0XHRhbHRGaWVsZFx0XHQ6IHRoaXMuJGhpZGRlbixcblx0XHRcdFx0XHRjaGFuZ2VZZWFyXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHR5ZWFyUmFuZ2VcdFx0OiBcIi0xMDA6KzEwMFwiLFxuXHRcdFx0XHRcdGNoYW5nZU1vbnRoXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRzaG93QnV0dG9uUGFuZWxcdDogdHJ1ZSxcblx0XHRcdFx0XHRmaXJzdERheVx0XHQ6IHRoaXMuJCgnW2RhdGEtZmlyc3RfZGF5XScpLmRhdGEoJ2ZpcnN0X2RheScpXG5cdFx0XHRcdH07XG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRlcGlja2VyKCB0aGlzLmRhdGVQaWNrZXJBcmdzICkub24oJ2JsdXInLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGlmICggISAkKHRoaXMpLnZhbCgpICkge1xuXHRcdFx0XHRcdHNlbGYuJGhpZGRlbi52YWwoJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGlmKCAkKCdib2R5ID4gI3VpLWRhdGVwaWNrZXItZGl2JykubGVuZ3RoID4gMCApIHtcblx0XHRcdFx0JCgnI3VpLWRhdGVwaWNrZXItZGl2Jykud3JhcCgnPGRpdiBjbGFzcz1cImFjZi11aS1kYXRlcGlja2VyXCIgLz4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2V0RWRpdGFibGU6ZnVuY3Rpb24oZWRpdGFibGUpe1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuc2V0RWRpdGFibGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kaGlkZGVuLnByb3AoICdkaXNhYmxlZCcsICEgZWRpdGFibGUgKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgZGF0ZTtcblxuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGUgPSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlKCB0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdEZvcm1hdCwgdmFsdWUgKTtcblx0XHRcdH0gY2F0Y2goZXJyKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy4kaW5wdXQuZGF0ZXBpY2tlciggJ3NldERhdGUnLCBkYXRlICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG4gXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIGRhdGVfdGltZV9waWNrZXJcbiBcdCAqL1xuIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidkYXRlX3RpbWVfcGlja2VyJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy4kaW5wdXRcdFx0PSB0aGlzLiQoICdbdHlwZT1cInRleHRcIl0nICk7XG5cdFx0XHR0aGlzLiRoaWRkZW5cdD0gdGhpcy4kKCAnW3R5cGU9XCJoaWRkZW5cIl0nICk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MgPSB7XG5cdFx0XHRcdFx0YWx0RmllbGRcdFx0XHQ6IHRoaXMuJGhpZGRlbixcblx0XHRcdFx0XHRkYXRlRm9ybWF0XHRcdFx0OiB0aGlzLiQoJ1tkYXRhLWRhdGVfZm9ybWF0XScpLmRhdGEoJ2RhdGVfZm9ybWF0JyksXG5cdFx0XHRcdFx0YWx0Rm9ybWF0XHRcdFx0OiAneXktbW0tZGQnLFxuXHRcdFx0XHRcdHRpbWVGb3JtYXRcdFx0XHQ6IHRoaXMuJCgnW2RhdGEtdGltZV9mb3JtYXRdJykuZGF0YSgndGltZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRUaW1lRm9ybWF0XHRcdDogJ0hIOm1tOnNzJyxcblx0XHRcdFx0XHRhbHRGaWVsZFRpbWVPbmx5XHQ6IGZhbHNlLFxuXHRcdFx0XHRcdGNoYW5nZVllYXJcdFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0eWVhclJhbmdlXHRcdFx0OiBcIi0xMDA6KzEwMFwiLFxuXHRcdFx0XHRcdGNoYW5nZU1vbnRoXHRcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0Zmlyc3REYXlcdFx0XHQ6IHRoaXMuJCgnW2RhdGEtZmlyc3RfZGF5XScpLmRhdGEoJ2ZpcnN0X2RheScpLFxuXHRcdFx0XHRcdGNvbnRyb2xUeXBlXHRcdFx0OiAnc2VsZWN0Jyxcblx0XHRcdFx0XHRvbmVMaW5lXHRcdFx0XHQ6IHRydWVcblx0XHRcdFx0fTtcblxuXHRcdFx0dGhpcy4kaW5wdXQuZGF0ZXRpbWVwaWNrZXIoIHRoaXMuZGF0ZVBpY2tlckFyZ3MgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcblx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG5cdFx0XHRcdFx0c2VsZi4kaGlkZGVuLnZhbCgnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYoICQoJ2JvZHkgPiAjdWktZGF0ZXBpY2tlci1kaXYnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHQkKCcjdWktZGF0ZXBpY2tlci1kaXYnKS53cmFwKCc8ZGl2IGNsYXNzPVwiYWNmLXVpLWRhdGVwaWNrZXJcIiAvPicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzZXRFZGl0YWJsZTpmdW5jdGlvbihlZGl0YWJsZSl7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5zZXRFZGl0YWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLiRoaWRkZW4ucHJvcCggJ2Rpc2FibGVkJywgISBlZGl0YWJsZSApO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBkYXRlLCBmb3JtYXR0ZWREYXRlLCB0aW1lT2JqZWN0O1xuXG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0ZSA9ICQuZGF0ZXBpY2tlci5wYXJzZURhdGVUaW1lKFxuXHRcdFx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MuYWx0Rm9ybWF0LFxuXHRcdFx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MuYWx0VGltZUZvcm1hdCxcblx0XHRcdFx0XHR2YWx1ZVxuXHRcdFx0XHQpO1xuXHRcdFx0fSBjYXRjaChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggISBkYXRlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLypcblx0XHRcdHRpbWVPYmplY3QgPSB7XG5cdFx0XHRcdGhvdXI6IGRhdGUuZ2V0SG91cnMoKSxcblx0XHRcdFx0bWludXRlOiBkYXRlLmdldE1pbnV0ZXMoKSxcblx0XHRcdFx0c2Vjb25kOiBkYXRlLmdldFNlY29uZHMoKSxcblx0XHRcdFx0bWlsbGlzZWM6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCksXG5cdFx0XHRcdG1pY3Jvc2VjOiAwLFxuXHRcdFx0XHR0aW1lem9uZTogZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLFxuXHRcdFx0fTtcblx0XHRcdGZvcm1hdHRlZERhdGUgPSAkLmRhdGVwaWNrZXIuZm9ybWF0RGF0ZSh0aGlzLmRhdGVQaWNrZXJBcmdzLmRhdGVGb3JtYXQsIGRhdGUpICsgJyAnICsgJC5kYXRlcGlja2VyLmZvcm1hdFRpbWUoXG5cdFx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MudGltZUZvcm1hdCxcblx0XHRcdFx0dGltZU9iamVjdFxuXHRcdFx0KTtcblx0XHRcdHRoaXMuJGhpZGRlbi52YWwoZm9ybWF0dGVkRGF0ZSk7XG5cdFx0XHR0aGlzLiRpbnB1dC52YWwoZm9ybWF0dGVkRGF0ZSk7XG5cdFx0XHQvKi9cblx0XHRcdC8vIHdpbGwgc2V0IGZvcm0gZGlydHkgaWYgZG9uZSBsaWtlIHRoaXNcblx0XHRcdHRoaXMuJGlucHV0LmRhdGVwaWNrZXIoICdzZXREYXRlJywgZGF0ZSApO1xuXHRcdFx0Ly8qL1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTondGltZV9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLiRpbnB1dFx0XHQ9IHRoaXMuJCggJ1t0eXBlPVwidGV4dFwiXScgKTtcblx0XHRcdHRoaXMuJGhpZGRlblx0PSB0aGlzLiQoICdbdHlwZT1cImhpZGRlblwiXScgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncyA9IHtcbiBcdFx0XHRcdFx0dGltZUZvcm1hdFx0XHRcdDogdGhpcy4kKCdbZGF0YS10aW1lX2Zvcm1hdF0nKS5kYXRhKCd0aW1lX2Zvcm1hdCcpLFxuIFx0XHRcdFx0XHRhbHRUaW1lRm9ybWF0XHRcdDogJ0hIOm1tOnNzJyxcbiBcdFx0XHRcdFx0YWx0RmllbGRcdFx0XHQ6IHRoaXMuJGhpZGRlbixcbiBcdFx0XHRcdFx0YWx0RmllbGRUaW1lT25seVx0OiBmYWxzZSxcbiBcdFx0XHRcdFx0c2hvd0J1dHRvblBhbmVsXHRcdDogdHJ1ZSxcbiBcdFx0XHRcdFx0Y29udHJvbFR5cGVcdFx0XHQ6ICdzZWxlY3QnLFxuIFx0XHRcdFx0XHRvbmVMaW5lXHRcdFx0XHQ6IHRydWVcbiBcdFx0XHRcdH07XG5cbiBcdFx0XHR0aGlzLiRpbnB1dC50aW1lcGlja2VyKCB0aGlzLmRhdGVQaWNrZXJBcmdzICkub24oJ2JsdXInLGZ1bmN0aW9uKCl7XG4gXHRcdFx0XHRpZiAoICEgJCh0aGlzKS52YWwoKSApIHtcbiBcdFx0XHRcdFx0c2VsZi4kaGlkZGVuLnZhbCgnJyk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSk7XG5cdFx0XHRpZiggJCgnYm9keSA+ICN1aS1kYXRlcGlja2VyLWRpdicpLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRcdCQoJyN1aS1kYXRlcGlja2VyLWRpdicpLndyYXAoJzxkaXYgY2xhc3M9XCJhY2YtdWktZGF0ZXBpY2tlclwiIC8+Jyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNldEVkaXRhYmxlOmZ1bmN0aW9uKGVkaXRhYmxlKXtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLnNldEVkaXRhYmxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuJGhpZGRlbi5wcm9wKCAnZGlzYWJsZWQnLCAhIGVkaXRhYmxlICk7XG5cdFx0fSxcbiBcdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciB0aW1lO1xuXG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHRpbWUgPSAkLmRhdGVwaWNrZXIucGFyc2VUaW1lKCB0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdFRpbWVGb3JtYXQsIHZhbHVlICk7XG5cdFx0XHR9IGNhdGNoKGVycil7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhIHRpbWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHRoaXMuJGhpZGRlbi52YWwoIHZhbHVlICk7XG5cdFx0XHR0aGlzLiRpbnB1dC52YWwoICQuZGF0ZXBpY2tlci5mb3JtYXRUaW1lKCB0aGlzLmRhdGVQaWNrZXJBcmdzLnRpbWVGb3JtYXQsIHRpbWUgKSApXG5cdFx0XHRyZXR1cm4gdGhpcztcbiBcdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonY29sb3JfcGlja2VyJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGFyZ3MgPSBhY2YuYXBwbHlfZmlsdGVycygnY29sb3JfcGlja2VyX2FyZ3MnLCB7XG5cdFx0XHRcdGRlZmF1bHRDb2xvcjogZmFsc2UsXG5cdFx0XHRcdHBhbGV0dGVzOiB0cnVlLFxuXHRcdFx0XHRoaWRlOiB0cnVlLFxuXHRcdFx0fSwgdGhpcy4kZWwgKTtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdbdHlwZT1cInRleHRcIl0nKS5maXJzdCgpLndwQ29sb3JQaWNrZXIoIGFyZ3MgKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0aGlzLiRpbnB1dC53cENvbG9yUGlja2VyKCAnY29sb3InLCB2YWx1ZSApO1xuXHRcdH0sXG5cdFx0dW5sb2FkOmZ1bmN0aW9uKCkge1xuXHRcdFx0JCggJ2JvZHknICkub2ZmKCAnY2xpY2sud3Bjb2xvcnBpY2tlcicgKTtcblx0XHR9XG5cdH0pO1xuXG5cblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRpbWVfcGlja2VyXG4gXHQgKi9cbiBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTondGV4dGFyZWEnLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgndGV4dGFyZWEnKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cblx0XHRcdHRoaXMuJGlucHV0Lm9uKCdrZXlkb3duIGtleXVwJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoIGUud2hpY2ggPT0gMTMgfHwgZS53aGljaCA9PSAyNyApIHtcblx0XHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuLy9cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgY2hvaWNlXG4gXHQgKi9cblx0Ly8gVG9kb1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgY2hlY2tib3hcbiBcdCAqL1xuXHQvLyBUb2RvXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonY2hlY2tib3gnLFxuXHRcdGV2ZW50czp7XG5cdFx0XHQnY2xpY2sgLmFkZC1jaG9pY2UnOiAnYWRkQ2hvaWNlJyxcblx0XHRcdCdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXS5jdXN0b20nIDogJ3JlbW92ZUNob2ljZScsXG5cdFx0XHQnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bdmFsdWU9XCJfX19kb19ub3RfY2hhbmdlXCJdJyA6ICdkbnRDaGFuZ2VkJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnW3R5cGU9XCJjaGVja2JveFwiXTpub3QoW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXSknKTtcblx0XHRcdHRoaXMuJGJ1dHRvbiA9IHRoaXMuJCgnYnV0dG9uLmFkZC1jaG9pY2UnKS5wcm9wKCdkaXNhYmxlZCcsdHJ1ZSk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdH0sXG5cdFx0c2V0RWRpdGFibGU6ZnVuY3Rpb24oZWRpdGFibGUpe1xuXHRcdFx0dGhpcy4kaW5wdXQucHJvcCggJ2Rpc2FibGVkJywgIWVkaXRhYmxlICk7XG5cdFx0XHR0aGlzLiRidXR0b24ucHJvcCggJ2Rpc2FibGVkJywgIWVkaXRhYmxlICk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdGlmICggJC5pc0FycmF5KHZhbHVlKSApIHtcblx0XHRcdFx0JC5lYWNoKCB2YWx1ZSwgZnVuY3Rpb24oIGlkeCwgdmFsICkge1xuXHRcdFx0XHRcdHNlbGYuJCggJ1t0eXBlPVwiY2hlY2tib3hcIl1bdmFsdWU9XCInK3ZhbCsnXCJdJyApXG5cdFx0XHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy4kKCAnW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKVxuXHRcdFx0XHRcdC5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcblx0XHRcdH1cbiBcdFx0fSxcblx0XHRhZGRDaG9pY2U6ZnVuY3Rpb24oZSl7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIgdHBsID0gd3AudGVtcGxhdGUoJ2FjZi1xZWYtY3VzdG9tLWNob2ljZS0nICsgdGhpcy4kZWwuYXR0cignZGF0YS1rZXknKSk7XG5cdFx0XHR0aGlzLiQoJ3VsJykuYXBwZW5kKHRwbCgpKTtcblx0XHR9LFxuXHRcdHJlbW92ZUNob2ljZTpmdW5jdGlvbihlKSB7XG5cdFx0XHQkKGUudGFyZ2V0KS5jbG9zZXN0KCdsaScpLnJlbW92ZSgpO1xuXHRcdH1cblxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHJhZGlvXG4gXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidyYWRpbycsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkb3RoZXIsIGlzX290aGVyO1xuXG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpO1xuXG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuXG5cdFx0XHRpZiAoIHRoaXMuJCgndWwuYWNmLXJhZGlvLWxpc3Qub3RoZXInKS5sZW5ndGggKSB7XG5cdFx0XHRcdCRvdGhlciA9IHRoaXMuJCgnW3R5cGU9XCJ0ZXh0XCJdJyk7XG5cdFx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKGUpe1xuXG5cdFx0XHRcdFx0aXNfb3RoZXIgPSAkKHRoaXMpLmlzKCdbdmFsdWU9XCJvdGhlclwiXTpjaGVja2VkJyk7XG5cdFx0XHRcdFx0JG90aGVyXG5cdFx0XHRcdFx0XHQucHJvcCgnZGlzYWJsZWQnLCAhIGlzX290aGVyIClcblx0XHRcdFx0XHRcdC5wcm9wKCdyZWFkb25seScsICEgaXNfb3RoZXIgKTtcblxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl1bdmFsdWU9XCInK3ZhbHVlKydcIl0nIClcblx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuIFx0XHR9XG5cdH0pO1xuXG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBidXR0b24gZ3JvdXBcbiBcdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J2J1dHRvbl9ncm91cCcsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciAkdWwgPSB0aGlzLiQoJ3VsJyksXG5cdFx0XHRcdCRsaXMgPSB0aGlzLiQoJ2xpJyk7XG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpO1xuXG5cblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpcy4kZWwuaXMoICdbZGF0YS1hbGxvdy1udWxsPVwiMVwiXScgKSApIHtcblx0XHRcdFx0dGhpcy4kZWwub24oICdjbGljaycsICdbdHlwZT1cInJhZGlvXCJdJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0dmFyICRsaSA9ICQodGhpcykuY2xvc2VzdCgnbGknKSxcblx0XHRcdFx0XHRcdHNlbGVjdGVkID0gJGxpLmhhc0NsYXNzKCdzZWxlY3RlZCcpO1xuXG5cdFx0XHRcdFx0JGxpcy5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcblxuXHRcdFx0XHRcdGlmICggc2VsZWN0ZWQgKSB7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLnByb3AoICdjaGVja2VkJywgZmFsc2UgKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkbGkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0Ly9cblxuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl1bdmFsdWU9XCInK3ZhbHVlKydcIl0nIClcblx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApXG5cdFx0XHRcdC5jbG9zZXN0KCdsaScpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuIFx0XHR9XG5cdH0pO1xuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHNlbGVjdFxuIFx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonc2VsZWN0Jyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdzZWxlY3QnKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cdFx0fVxuXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIHRheG9ub215XG4gXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOid0YXhvbm9teScsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnc2VsZWN0LGlucHV0W3ZhbHVlIT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0nKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdGlmICggJ251bWJlcicgPT09IHR5cGVvZiB2YWx1ZSApIHtcblx0XHRcdFx0dmFsdWUgPSBbIHZhbHVlIF07XG5cdFx0XHR9XG5cdFx0XHQkLmVhY2godmFsdWUsZnVuY3Rpb24oaSx2YWwpe1xuXHRcdFx0XHRzZWxmLiQoJ1t2YWx1ZT1cIicrdmFsKydcIl0nICkuZWFjaChmdW5jdGlvbihpLGVsKXtcblx0XHRcdFx0XHRpZiAoICQodGhpcykuaXMoJ1t0eXBlPVwicmFkaW9cIl0sW3R5cGU9XCJjaGVja2JveFwiXScpICkge1xuXHRcdFx0XHRcdFx0JCh0aGlzKS5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCAkKHRoaXMpLmlzKCdvcHRpb24nKSApIHtcblx0XHRcdFx0XHRcdCQodGhpcykucHJvcCggJ3NlbGVjdGVkJywgdHJ1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcbiBcdFx0fVxuXHR9KTtcblxuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdHJ1ZV9mYWxzZVxuIFx0ICovXG5cdCBxZS5maWVsZC5hZGRfdHlwZSgge1xuIFx0XHR0eXBlOid0cnVlX2ZhbHNlJyxcbiBcdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcbiBcdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuIFx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcbiBcdFx0fSxcbiBcdFx0c2V0VmFsdWU6ZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl1bdmFsdWU9XCInK3ZhbHVlKydcIl0nIClcblx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuICBcdFx0fVxuIFx0fSk7XG5cdC8vIFRvZG9cblxufSkoIGpRdWVyeSwgYWNmX3F1aWNrZWRpdCApO1xuIiwiLy92YXIgYWNmX3F1aWNrZWRpdCA9IHt9O1xuXG5cbihmdW5jdGlvbigkLHFlKSB7XG5cblxuXG5cdGlmICggJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBpbmxpbmVFZGl0UG9zdCApIHtcblx0XHQvLyB3ZSBjcmVhdGUgYSBjb3B5IG9mIHRoZSBXUCBpbmxpbmUgZWRpdCBwb3N0IGZ1bmN0aW9uXG5cdFx0dmFyIF93cF9pbmxpbmVfZWRpdF9wb3N0ID0gaW5saW5lRWRpdFBvc3QuZWRpdCxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9zYXZlID0gaW5saW5lRWRpdFBvc3Quc2F2ZSxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9yZXZlcnQgPSBpbmxpbmVFZGl0UG9zdC5yZXZlcnQsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfYnVsayA9ICBpbmxpbmVFZGl0UG9zdC5zZXRCdWxrO1xuXHRcdC8vIGFuZCB0aGVuIHdlIG92ZXJ3cml0ZSB0aGUgZnVuY3Rpb24gd2l0aCBvdXIgb3duIGNvZGVcblx0XHRpbmxpbmVFZGl0UG9zdC5lZGl0ID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIG9iamVjdF9pZCwgJHRyLCByZXQ7XG5cblx0XHRcdGFjZi52YWxpZGF0aW9uLmFjdGl2ZSA9IDE7XG5cblx0XHRcdC8vIFwiY2FsbFwiIHRoZSBvcmlnaW5hbCBXUCBlZGl0IGZ1bmN0aW9uXG5cdFx0XHQvLyB3ZSBkb24ndCB3YW50IHRvIGxlYXZlIFdvcmRQcmVzcyBoYW5naW5nXG5cdFx0XHRyZXQgPSBfd3BfaW5saW5lX2VkaXRfcG9zdC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIGdldCB0aGUgcG9zdCBJRFxuXHRcdFx0b2JqZWN0X2lkID0gMDtcblx0XHRcdGlmICggdHlwZW9mKCBpZCApID09PSAnb2JqZWN0JyApIHtcblx0XHRcdFx0b2JqZWN0X2lkID0gcGFyc2VJbnQoIHRoaXMuZ2V0SWQoIGlkICkgKTtcblx0XHRcdH1cblxuXHRcdFx0JHRyID0gJCgnI2VkaXQtJyArIG9iamVjdF9pZCApO1xuLy9cdFx0XHRnZXRfYWNmX3Bvc3RfZGF0YSggb2JqZWN0X2lkICwgJCgnI2VkaXQtJyArIG9iamVjdF9pZCApICk7XG5cblx0XHRcdHRoaXMuYWNmX3FlZF9mb3JtID0gbmV3IHFlLmZvcm0uUXVpY2tFZGl0KHtcblx0XHRcdFx0ZWw6ICR0ci5nZXQoMCksXG5cdFx0XHRcdG9iamVjdF9pZDogb2JqZWN0X2lkXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fTtcblx0XHRpbmxpbmVFZGl0UG9zdC5yZXZlcnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIHVubG9hZCBmb3Jtc1xuXHRcdFx0ISEgdGhpcy5hY2ZfcWVkX2Zvcm0gJiYgdGhpcy5hY2ZfcWVkX2Zvcm0udW5sb2FkKCk7XG5cdFx0XHRyZXR1cm4gX3dwX2lubGluZV9lZGl0X3JldmVydC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHRcdGlubGluZUVkaXRQb3N0LnNhdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIHVubG9hZCBmb3Jtc1xuXHRcdFx0ISEgdGhpcy5hY2ZfcWVkX2Zvcm0gJiYgdGhpcy5hY2ZfcWVkX2Zvcm0udW5sb2FkKCk7XG5cdFx0XHRyZXR1cm4gX3dwX2lubGluZV9lZGl0X3NhdmUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHRpbmxpbmVFZGl0UG9zdC5zZXRCdWxrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcmV0ID0gX3dwX2lubGluZV9lZGl0X2J1bGsuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0dGhpcy5hY2ZfcWVkX2Zvcm0gPSBuZXcgcWUuZm9ybS5CdWxrRWRpdCh7XG5cdFx0XHRcdGVsOiAkKCcjYnVsay1lZGl0JykuZ2V0KDApLFxuLy9cdFx0XHRcdG9iamVjdF9pZDogb2JqZWN0X2lkXG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH1cblx0Ly8gdG9kbzogaW5saW5lRWRpdFRheFxuXHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgaW5saW5lRWRpdFRheCApIHtcblxuXHRcdHZhciBfd3BfaW5saW5lX2VkaXRfdGF4ID0gaW5saW5lRWRpdFRheC5lZGl0LFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3NhdmUgPSBpbmxpbmVFZGl0VGF4LnNhdmUsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0ID0gaW5saW5lRWRpdFRheC5yZXZlcnQ7XG5cblx0XHRpbmxpbmVFZGl0VGF4LmVkaXQgPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgb2JqZWN0X2lkLCAkdHIsIHJldCxcblx0XHRcdFx0dGF4ID0gJCgnaW5wdXRbbmFtZT1cInRheG9ub215XCJdJykudmFsKCk7XG5cblx0XHRcdHJldCA9IF93cF9pbmxpbmVfZWRpdF90YXguYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHQvLyBnZXQgdGhlIHBvc3QgSURcblx0XHRcdG9iamVjdF9pZCA9IDA7XG5cdFx0XHRpZiAoIHR5cGVvZiggaWQgKSA9PT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdG9iamVjdF9pZCA9IHBhcnNlSW50KCB0aGlzLmdldElkKCBpZCApICk7XG5cdFx0XHR9XG5cdFx0XHQkdHIgPSAkKCcjZWRpdC0nICsgb2JqZWN0X2lkICk7XG5cblx0XHRcdHRoaXMuYWNmX3FlZF9mb3JtID0gbmV3IHFlLmZvcm0uUXVpY2tFZGl0KHtcblx0XHRcdFx0ZWw6ICR0ci5nZXQoMCksXG5cdFx0XHRcdG9iamVjdF9pZDogdGF4ICsgJ18nICsgb2JqZWN0X2lkXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fTtcblx0XHRpbmxpbmVFZGl0VGF4LnJldmVydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdW5sb2FkIGZvcm1zXG5cdFx0XHQhISB0aGlzLmFjZl9xZWRfZm9ybSAmJiB0aGlzLmFjZl9xZWRfZm9ybS51bmxvYWQoKTtcblx0XHRcdHJldHVybiBfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0aW5saW5lRWRpdFRheC5zYXZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB1bmxvYWQgZm9ybXNcblx0XHRcdCEhIHRoaXMuYWNmX3FlZF9mb3JtICYmIHRoaXMuYWNmX3FlZF9mb3JtLnVubG9hZCgpO1xuXHRcdFx0cmV0dXJuIF93cF9pbmxpbmVfZWRpdF9zYXZlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdH1cblxufSkoIGpRdWVyeSwgd2luZG93LmFjZl9xdWlja2VkaXQgKTtcbiIsIihmdW5jdGlvbigkKSB7XG5cdCQoJy5hY2YtcWVmLWdhbGxlcnktY29sJykub24oJ21vdXNlbW92ZScsZnVuY3Rpb24oZSl7XG5cdFx0dmFyICR0aGlzXHQ9ICQodGhpcyksXG5cdFx0XHQkaW1nXHQ9ICQodGhpcykuZmluZCgnaW1nJylcblx0XHRcdHhcdFx0PSBlLm9mZnNldFgsXG5cdFx0XHRudW1cdFx0PSAkaW1nLmxlbmd0aCxcblx0XHRcdHN0ZXBcdD0gJCh0aGlzKS53aWR0aCgpIC8gbnVtO1xuXG5cdFx0JGltZy5lYWNoKCBmdW5jdGlvbihpLGVsKSB7XG5cdFx0XHRpZiAoeCA+PSBzdGVwKmkpIHtcblx0XHRcdFx0JChlbCkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChlbCkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSk7XG59KShqUXVlcnkpOyJdfQ==
